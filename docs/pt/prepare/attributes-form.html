
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="pt">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Attribute Form Configuration &#8212; Documentação QField Documentation 1.0 - M...</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/qfield.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/qfield.js"></script>
    <link rel="shortcut icon" href="../_static/qfield-logo-noborder.ico"/>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Pesquisar" href="../search.html" />
    <link rel="next" title="Custom SVG symbols" href="custom-svg.html" />
    <link rel="prev" title="Permitir ocultar nós de legenda" href="allow-hiding-legend-nodes.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://qfield.org">
              <img src="../_static/qfield-logo.svg">
        </a>
        <span class="navbar-text navbar-title"><b><a href="../index.html">QField Documentation</a> </b></span>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

      <div class="collapse navbar-collapse nav-collapse">
        <ul class="nav navbar-nav">
          
          
            
              <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Attribute Form Configuration</a><ul>
<li><a class="reference internal" href="#suppress-attribute-form">Suppress Attribute Form</a></li>
<li><a class="reference internal" href="#field-widget">Widget de Campo</a></li>
<li><a class="reference internal" href="#relation-widget">Widget de Relação</a><ul>
<li><a class="reference internal" href="#external-resource-photo-settings">Recurso externo (configurações da foto)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#drag-and-drop-designer-forms">Design de formulários arrastar e largar</a></li>
<li><a class="reference internal" href="#conditional-visibility">Visibilidade condicionada</a></li>
<li><a class="reference internal" href="#constraints">Restrições</a><ul>
<li><a class="reference internal" href="#common-use-cases">Casos de uso comuns</a></li>
</ul>
</li>
<li><a class="reference internal" href="#default-values">Valores pré-definidos</a><ul>
<li><a class="reference internal" href="#additional-variables">Variáveis adicionais</a></li>
<li><a class="reference internal" href="#id1">Casos de uso comuns</a></li>
</ul>
</li>
<li><a class="reference internal" href="#editable">Editável</a></li>
<li><a class="reference internal" href="#remember-last-values">Lembrar os últimos valores</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
          
          
            
              
  <li>
    <a href="allow-hiding-legend-nodes.html" title="Previous Chapter: Permitir ocultar nós de legenda"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Permitir ocul...</span>
    </a>
  </li>
  <li>
    <a href="custom-svg.html" title="Next Chapter: Custom SVG symbols"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Custom SVG symbols &raquo;</span>
    </a>
  </li>
            
          
          
          
          
        </ul>

        
          
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="globaltoc"
    role="menu"
    aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Instalação</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Prepare for Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synchronise/index.html">Synchronisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fieldwork/index.html">Fieldwork</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-formats/index.html">Supported Data Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case-studies/index.html">Case Studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/index.html">Support and Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../old-doc/index.html">Legacy Documentation</a></li>
</ul>

</ul>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="attribute-form-configuration">
<h1>Attribute Form Configuration<a class="headerlink" href="#attribute-form-configuration" title="Link permanente para este título">¶</a></h1>
<p>QField cria formulários semelhantes, mas não igual ao QGIS.</p>
<div class="section" id="suppress-attribute-form">
<h2>Suppress Attribute Form<a class="headerlink" href="#suppress-attribute-form" title="Link permanente para este título">¶</a></h2>
<p>The setting «suppress attribute form» is directly applied to the QField form.</p>
</div>
<div class="section" id="field-widget">
<span id="edit-field-widgets"></span><h2>Widget de Campo<a class="headerlink" href="#field-widget" title="Link permanente para este título">¶</a></h2>
<p>Os widgets de campo a partir do QGIS são suportados no melhor esforço básico.</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="20%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Widget type</th>
<th class="head">Suporte</th>
<th class="head">Notas</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Editar Texto</td>
<td><span class="yay">✔</span></td>
<td><ul class="first last simple">
<li>HTML não é suportado</li>
<li>Os inputs numéricos é forçado baseando-se no seu tipo.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Caixa de Seleção</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Mapa de Valores</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Escondido</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Recursos Externo</td>
<td><span class="moreorless">~</span></td>
<td>Este campo é combinado com a integração da câmara. Para já apenas imagens podem ser vistas. <a class="reference internal" href="../support/index.html#make-it-grow"><span class="std std-ref">Financiamento</span></a></td>
</tr>
<tr class="row-odd"><td>Data Tempo</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Referência de Relações</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>Widget de Relação</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Outros</td>
<td><span class="nay">✘</span></td>
<td><a class="reference internal" href="../support/index.html#make-it-grow"><span class="std std-ref">Financiamento</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="relation-widget">
<h2>Widget de Relação<a class="headerlink" href="#relation-widget" title="Link permanente para este título">¶</a></h2>
<p>Para obter mais informações, consulte o capítulo de relações da <a class="reference external" href="https://docs.qgis.org/3.4/en/docs/user_manual/working_with_vector/attribute_table.html#creating-one-or-many-to-many-relations">documentação oficial QGIS</a>.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/relation_editor_widget_list.png"><img alt="../_images/relation_editor_widget_list.png" src="../_images/relation_editor_widget_list.png" style="width: 500px;" /></a>
</div>
</div>
<p>The relation widget shows all the referencing child features in a list. It is possible to add, delete and open them.</p>
<p>The visual identification of the list entries are done via the «Display Expression» of the child layer.</p>
<p><strong>Manuseio de chaves</strong></p>
<p>Como as chaves primárias dos pais são usadas como chaves estrangeiras nos elementos filhos de referência, essas chaves primárias devem ser salvas para uso mesmo após a sincronização com os dados originais. Portanto, recomendamos o uso de valores estáveis, como UUIDs, para chaves primárias.</p>
<p>It is possible to already add children from a parent that is about to be added. This possibility will be blocked if there is no valid primary key on the parent or the constraints are violated. In case the adding of the parent feature is canceled after some children have been added already, the children are deleted as well.</p>
<p><strong>Relações muitos-para-muitos</strong></p>
<p>Em relacionamentos muitos para muitos, de acordo com a configuração de cardinalidade nas Propriedades da camada vetorial QGIS, a adição, exclusão ou abertura de uma entrada na lista afeta diretamente a camada filho (na cardinalidade direta) ou a tabela de vinculação (em muitas para uma cardinalidade).</p>
<p>O segundo caso é geralmente usado quando há informações adicionais de relação (por exemplo, porcentagem) na tabela de vinculação.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/relation_widget_cardinality.png"><img alt="../_images/relation_widget_cardinality.png" src="../_images/relation_widget_cardinality.png" style="width: 500px;" /></a>
</div>
</div>
<p>No caso da cardinalidade muitos-para-um nas relações muitos-para-muitos, a Expressão de exibição precisa ser definida na tabela de vinculação.</p>
<div class="section" id="external-resource-photo-settings">
<h3>Recurso externo (configurações da foto)<a class="headerlink" href="#external-resource-photo-settings" title="Link permanente para este título">¶</a></h3>
<p>O tipo de widget «Anexo» é usado para armazenar o caminho para coletar fotos.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/attachement-setting.png"><img alt="Attachement field settings" src="../_images/attachement-setting.png" style="width: 600px;" /></a>
</div>
</div>
<p>The path should be set to relative. The pictures are stored then in a sub-directory of the project, where the link stored in the textfield is pointing to.</p>
<p>No QField, a imagem é exibida. Ao clicar no símbolo da câmera, a câmera é iniciada para atualizar a imagem com uma nova foto.</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/qfield_picture.png"><img alt="Picture in QField" src="../_images/qfield_picture.png" style="width: 600px;" /></a>
</div>
</div>
<p>Na sincronização, o subdiretório com as imagens também deve ser copiado.</p>
</div>
</div>
<div class="section" id="drag-and-drop-designer-forms">
<h2>Design de formulários arrastar e largar<a class="headerlink" href="#drag-and-drop-designer-forms" title="Link permanente para este título">¶</a></h2>
<p>Grupos e separadores a partir do designer de formulários Arrastar e Largar são suportados.</p>
</div>
<div class="section" id="conditional-visibility">
<h2>Visibilidade condicionada<a class="headerlink" href="#conditional-visibility" title="Link permanente para este título">¶</a></h2>
<p>Grupos podem ser ocultos com base numa expressão. Isso é útil quando determinados atributos são necessários apenas sob determinadas condições. Como por exemplo, o mapeamento de árvores. Algumas delas podem ter uma doença e tem uma lista de possíveis doenças. Para não desorganizar o formulário com muitos campos, crie um grupo e configure uma expressão de visibilidade para um grupo «doenças». Adicione um campo «doença» com uma caixa de selecção. Somente quando a caixa de selecção estiver marcada, a lista de doenças estará disponível para o utilizador.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id2">
<a class="reference internal image-reference" href="../_images/conditional_visibility_configuration.png"><img alt="Conditional visibility configuration" src="../_images/conditional_visibility_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">A configuração de uma caixa de grupo que será mostrada apenas se a caixa de selecção «measures_taken» estiver marcada.</span></p>
</div>
</div>
</div>
<div class="section" id="constraints">
<h2>Restrições<a class="headerlink" href="#constraints" title="Link permanente para este título">¶</a></h2>
<p>Os campos dos atributos podem ter restrições anexadas. Restrições são expressões que precisam ser avaliadas para: code: <cite>Verdadeiro</cite> (ou: code:` 1`) para poder guardar o formulário. As restrições são configuradas numa pré-definição por campo e uma descrição pode ser adicionada e que será mostrada ao utilizador se uma restrição não for satisfeita.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id3">
<a class="reference internal image-reference" href="../_images/constraint_configuration.png"><img alt="Constraint configuration" src="../_images/constraint_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Configuração de uma restrição dentro de um intervalo</span></p>
</div>
</div>
<div class="section" id="common-use-cases">
<h3>Casos de uso comuns<a class="headerlink" href="#common-use-cases" title="Link permanente para este título">¶</a></h3>
<p>Não pode introduzir um valor de elevação maior que a montanha mais alta deste país.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="ss">&quot;elevation&quot;</span> <span class="o">&lt;</span> <span class="mi">5000</span>
</pre></div>
</div>
<p>É necessário preenchê-lo com um identificador.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="ss">&quot;identifier&quot;</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="default-values">
<h2>Valores pré-definidos<a class="headerlink" href="#default-values" title="Link permanente para este título">¶</a></h2>
<p>Os campos podem ter valores pré-definidos configurados. Os valores pré-definidos são inseridos no formulário do atributo quando se digitaliza um novo elemento. Eles são visíveis ao utilizador e podem ser modificados desde que o campo possa ser editado. Eles podem basear-se na geometria ou nas variáveis de expressão.</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id4">
<a class="reference internal image-reference" href="../_images/default_value_configuration.png"><img alt="Default value configuration" src="../_images/default_value_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">Configuração de uma data formatada como valor pré-definido</span></p>
</div>
</div>
<div class="section" id="additional-variables">
<h3>Variáveis adicionais<a class="headerlink" href="#additional-variables" title="Link permanente para este título">¶</a></h3>
<p>No Qfield, existem algumas variáveis adicionadas disponíveis tendo em conta a informação actual de posicionamento.</p>
<ul class="simple">
<li><cite>position_coordinate</cite> (Geometria em WGS84!): Lon, Lat, Altitude como é entregue pelo sensor. Também está disponível quando a cruz não está atraída ao sensor.</li>
<li><cite>position_timestamp</cite> (DateTime): data e hora da informação de posição</li>
<li><cite>position_direction</cite> (float): Direcção em graus do norte verdadeiro.</li>
<li><cite>position_ground_speed</cite> (float): Velocidade em metros / segundo.</li>
<li><cite>position_magnetic_variation</cite> (float): O ângulo entre a componente horizontal do campo magnético e o norte verdadeiro, em graus. Também conhecida como declinação magnética. Um valor positivo indica uma direcção no sentido horário do norte verdadeiro e um valor negativo indica uma direcção no sentido anti-horário.</li>
<li><cite>position_horizontal_accuracy</cite> (float): A precisão horizontal da coordenada (em metros).</li>
<li><cite>position_vertical_accuracy</cite> (float): A precisão vertical da coordenada (em metros).</li>
<li><cite>position_vertical_speed</cite> (float): O valor da velocidade vertical em metros por segundo.</li>
</ul>
</div>
<div class="section" id="id1">
<h3>Casos de uso comuns<a class="headerlink" href="#id1" title="Link permanente para este título">¶</a></h3>
<p>Inserir informação de posicionamento como variável:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="n">position_horizontal_accuracy</span>
</pre></div>
</div>
<p>Iserir a data e hora actual:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">now</span><span class="p">()</span>
</pre></div>
</div>
<p>Inserir o comprimento da linha digitalizada:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>length($geometry)
</pre></div>
</div>
<p>Configurar as variáveis globais no dispositivo e inseri-las.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="n">operator_name</span>
</pre></div>
</div>
<p>Se quer atribuir um código de região baseado na localização onde o novo elemento é inserido, pode-o fazer usando a expressão de agregação:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>aggregate( layer:=&#39;regions&#39;, aggregate:=&#39;max&#39;, expression:=&quot;code&quot;, filter:=intersects( $geometry, geometry( @parent ) ) )
</pre></div>
</div>
</div>
</div>
<div class="section" id="editable">
<h2>Editável<a class="headerlink" href="#editable" title="Link permanente para este título">¶</a></h2>
<p>O parâmetro editável dos campos é respeitado.</p>
</div>
<div class="section" id="remember-last-values">
<h2>Lembrar os últimos valores<a class="headerlink" href="#remember-last-values" title="Link permanente para este título">¶</a></h2>
<p>QField oferece um controlo muito mais minucioso sobre os últimos valores usados e ignora a definição do QGIS.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        

 


<div id="sourcelink">


  <a href="https://github.com/opengisch/QField-docs/blob/master/en/prepare/attributes-form.rst" class="fa fa-github"> Edit on GitHub</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2019, The QField Project/OPENGIS.ch.<br/>
      Criado utilizando <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>