
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Attribute Form Configuration &#8212; QField Documentation 1.0 - M... ドキュメント</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/qfield-new.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/qfield.js"></script>
    <link rel="shortcut icon" href="../_static/qfield-logo-noborder.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="Custom SVG symbols" href="custom-svg.html" />
    <link rel="prev" title="凡例のノードを非表示にするのを許可する" href="allow-hiding-legend-nodes.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://qfield.org">
              <img src="../_static/qfield-logo.svg">
        </a>
        <span class="navbar-text navbar-title"><b><a href="../index.html">QField Documentation</a> </b></span>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

      <div class="collapse navbar-collapse nav-collapse">
        <ul class="nav navbar-nav">
          
          
            
              <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Attribute Form Configuration</a><ul>
<li><a class="reference internal" href="#suppress-attribute-form">Suppress Attribute Form</a></li>
<li><a class="reference internal" href="#field-widget">フィールドウィジェット</a></li>
<li><a class="reference internal" href="#relation-widget">リレーションウィジェット</a><ul>
<li><a class="reference internal" href="#external-resource-photo-settings">外部リソース（写真設定）</a></li>
</ul>
</li>
<li><a class="reference internal" href="#drag-and-drop-designer-forms">ドラッグアンドドロップデザイナーフォーム</a></li>
<li><a class="reference internal" href="#conditional-visibility">条件付き表示</a></li>
<li><a class="reference internal" href="#constraints">制約</a><ul>
<li><a class="reference internal" href="#common-use-cases">一般的な使用例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#default-values">初期値</a><ul>
<li><a class="reference internal" href="#additional-variables">追加の変数</a></li>
<li><a class="reference internal" href="#id1">一般的な使用例</a></li>
</ul>
</li>
<li><a class="reference internal" href="#editable">編集可否</a></li>
<li><a class="reference internal" href="#remember-last-values">最後の値を記憶する</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
          
          
            
              
  <li>
    <a href="allow-hiding-legend-nodes.html" title="Previous Chapter: 凡例のノードを非表示にするのを許可する"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 凡例のノードを非表示にするのを許可する</span>
    </a>
  </li>
  <li>
    <a href="custom-svg.html" title="Next Chapter: Custom SVG symbols"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Custom SVG symbols &raquo;</span>
    </a>
  </li>
            
          
          
          
          
        </ul>

        
          
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="globaltoc"
    role="menu"
    aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Prepare for Work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synchronise/index.html">Synchronisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fieldwork/index.html">Fieldwork</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-formats/index.html">Supported Data Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../case-studies/index.html">Case Studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/index.html">Support and Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../old-doc/index.html">Legacy Documentation</a></li>
</ul>

</ul>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="attribute-form-configuration">
<h1>Attribute Form Configuration<a class="headerlink" href="#attribute-form-configuration" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>QFieldはQGISと似たようなフォームを作成できますが、完全に同じではありません。</p>
<div class="section" id="suppress-attribute-form">
<h2>Suppress Attribute Form<a class="headerlink" href="#suppress-attribute-form" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The setting &quot;suppress attribute form&quot; is directly applied to the QField form.</p>
</div>
<div class="section" id="field-widget">
<span id="edit-field-widgets"></span><h2>フィールドウィジェット<a class="headerlink" href="#field-widget" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>QGISでのフィールドウィジェットはできる限りサポートできるように努めています。</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="20%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">フィールドタイプ</th>
<th class="head">サポートの可否</th>
<th class="head">備考</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>テキスト編集</td>
<td><span class="yay">✔</span></td>
<td><ul class="first last simple">
<li>HTMLはサポートされていません。</li>
<li>数値入力はデータ型に基づいて設定されます。</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>チェックボックス</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>バリューマップ</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>非表示</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>アタッチメント</td>
<td><span class="moreorless">~</span></td>
<td>このフィールドはカメラ機能と統合されています。画像のみ表示できます。<a class="reference internal" href="../support/index.html#make-it-grow"><span class="std std-ref">支援</span></a></td>
</tr>
<tr class="row-odd"><td>日付/時刻</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>リレーションの参照</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>リレーションウィジェット</td>
<td><span class="yay">✔</span></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>その他</td>
<td><span class="nay">✘</span></td>
<td><a class="reference internal" href="../support/index.html#make-it-grow"><span class="std std-ref">支援</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="relation-widget">
<h2>リレーションウィジェット<a class="headerlink" href="#relation-widget" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>詳細については、オフィシャルサイト <a class="reference external" href="https://docs.qgis.org/3.4/en/docs/user_manual/working_with_vector/attribute_table.html#creating-one-or-many-to-many-relations">QGIS Documentation</a> の該当ページを参照してください。</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/relation_editor_widget_list.png"><img alt="../_images/relation_editor_widget_list.png" src="../_images/relation_editor_widget_list.png" style="width: 500px;" /></a>
</div>
</div>
<p>The relation widget shows all the referencing child features in a list. It is possible to add, delete and open them.</p>
<p>The visual identification of the list entries are done via the &quot;Display Expression&quot; of the child layer.</p>
<p><strong>キーの処理</strong></p>
<p>親の主キーは、参照する子フィーチャの外部キーとして使用されるため、これらの主キーは、オリジナルのデータに同期した後でも使用するために保持されなければいけません。 したがって、主キーにはUUIDなどの安定した値を使用することをお勧めします。</p>
<p>It is possible to already add children from a parent that is about to be added. This possibility will be blocked if there is no valid primary key on the parent or the constraints are violated. In case the adding of the parent feature is canceled after some children have been added already, the children are deleted as well.</p>
<p><strong>多対多のリレーション</strong></p>
<p>多対多の関係では、QGISのベクターレイヤープロパティでのカーディナリティーカラムに格納されているデータの種類がどのくらいあるかの設定に従って、追加、削除、もしくはリストのエントリを開いたりする際に子レイヤー（直接的なカーディナリティ）またはリンクされたテーブル（多対1のカーディナリティ）に直接的に影響します。</p>
<p>通常、2番目のケースは、リンクしているテーブルに追加の関係情報（パーセンテージなど）がある場合に使用されます。</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/relation_widget_cardinality.png"><img alt="../_images/relation_widget_cardinality.png" src="../_images/relation_widget_cardinality.png" style="width: 500px;" /></a>
</div>
</div>
<p>多対多のリレーションにおける多対1のカーディナリティのケースの場合、表示名の式をリンクしているテーブルに設定する必要があります。</p>
<div class="section" id="external-resource-photo-settings">
<h3>外部リソース（写真設定）<a class="headerlink" href="#external-resource-photo-settings" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>ウィジェットタイプの「アタッチメント」は収取した写真のファイルパスを保存する際に使用されます。</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/attachement-setting.png"><img alt="Attachement field settings" src="../_images/attachement-setting.png" style="width: 600px;" /></a>
</div>
</div>
<p>The path should be set to relative. The pictures are stored then in a sub-directory of the project, where the link stored in the textfield is pointing to.</p>
<p>QFieldで写真が表示されます。カメラのアイコンをクリックするとカメラが起動し新しく写真を撮影し更新できます。</p>
<div class="clearer text-center docutils container">
<div class="figure">
<a class="reference internal image-reference" href="../_images/qfield_picture.png"><img alt="Picture in QField" src="../_images/qfield_picture.png" style="width: 600px;" /></a>
</div>
</div>
<p>同期をする際にはサブディレクトリも写真と一緒にコピーをする必要があります。</p>
</div>
</div>
<div class="section" id="drag-and-drop-designer-forms">
<h2>ドラッグアンドドロップデザイナーフォーム<a class="headerlink" href="#drag-and-drop-designer-forms" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ドラッグアンドドロップデザイナーフォームでのグループとタブの設定はサポートされます。</p>
</div>
<div class="section" id="conditional-visibility">
<h2>条件付き表示<a class="headerlink" href="#conditional-visibility" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>グループは式に基づいて非表示にすることができます。 これは、ある属性が特定の条件下でのみ必要な場合に役立ちます。 例として、木のマッピングを挙げてみましょう。いくつかの木は病気にかかっている可能性があり、あなたは想定される病気のリストを持っています。 入力フォームを多数のフィールドで分かりづらくさせないために、グループを作成し、グループ「病気」の表示設定をします。 チェックボックス付きのフィールド「病気」を追加します。 チェックボックスがチェックされている場合にのみ、病気のリストがユーザーに利用可能になります。</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id2">
<a class="reference internal image-reference" href="../_images/conditional_visibility_configuration.png"><img alt="Conditional visibility configuration" src="../_images/conditional_visibility_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">チェックボックス「measures_taken」がチェックされている場合にのみ表示されるグループボックスの構成。</span></p>
</div>
</div>
</div>
<div class="section" id="constraints">
<h2>制約<a class="headerlink" href="#constraints" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>属性フィールドには制約を追加できます。制約はフォームを保存することができるように  <code class="code docutils literal notranslate"><span class="pre">True</span></code> (or <code class="code docutils literal notranslate"><span class="pre">1</span></code>) に評価する必要がある式です。制約はフィールドごとに構成され、制約が満たされない場合にユーザーに表示される説明を追加できます。</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id3">
<a class="reference internal image-reference" href="../_images/constraint_configuration.png"><img alt="Constraint configuration" src="../_images/constraint_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">範囲内の制約の構成</span></p>
</div>
</div>
<div class="section" id="common-use-cases">
<h3>一般的な使用例<a class="headerlink" href="#common-use-cases" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>この国で最も標高が高い山よりも大きな標高値を入力することはできません。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="ss">&quot;elevation&quot;</span> <span class="o">&lt;</span> <span class="mi">5000</span>
</pre></div>
</div>
<p>identifier は入力必須の項目です。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="ss">&quot;identifier&quot;</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="default-values">
<h2>初期値<a class="headerlink" href="#default-values" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>フィールドには初期値を設定できます。 新しいフィーチャをデジタイズするときに、初期値が属性フォームに入力されます。 これらはユーザーに表示され、フィールドが編集可能な限り変更できます。 それらは、ジオメトリ変数または式変数に基づくことができます。</p>
<div class="clearer text-center docutils container">
<div class="figure" id="id4">
<a class="reference internal image-reference" href="../_images/default_value_configuration.png"><img alt="Default value configuration" src="../_images/default_value_configuration.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-text">初期値として書式設定された日付の構成</span></p>
</div>
</div>
<div class="section" id="additional-variables">
<h3>追加の変数<a class="headerlink" href="#additional-variables" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>QFieldには、現在の位置情報に関する追加の変数がいくつかあります。</p>
<ul class="simple">
<li><cite>position_coordinate</cite> (Geometry in WGS84!) : 経度、緯度、高度はセンサーによって配信されます。 十字線がセンサーにスナップされていない場合にも使用できます。</li>
<li><cite>position_timestamp</cite> (DateTime) : 位置情報のタイムスタンプ</li>
<li><cite>position_direction</cite> (float) : 真北からの度単位で示す方向</li>
<li><cite>position_ground_speed</cite> (float) : メートル/秒で示される対地速度</li>
<li><cite>position_magnetic_variation</cite> (float) : 磁場の水平成分と真北の間の度単位の角度。 磁気偏角とも呼ばれます。 正の値は真北から時計回りの方向を示し、負の値は反時計回りの方向を示します。</li>
<li><cite>position_horizontal_accuracy</cite> (float) : 座標の水平精度（メートル単位）。</li>
<li><cite>position_vertical_accuracy</cite> (float) : 座標の垂直精度（メートル単位）。</li>
<li><cite>position_vertical_speed</cite> (float) : メートル/秒で示される垂直速度の値。</li>
</ul>
</div>
<div class="section" id="id1">
<h3>一般的な使用例<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>位置情報を変数として挿入します。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="n">position_horizontal_accuracy</span>
</pre></div>
</div>
<p>現在の日付と時間を挿入します。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">now</span><span class="p">()</span>
</pre></div>
</div>
<p>デジタイズした線分の長さを挿入します。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>length($geometry)
</pre></div>
</div>
<p>デバイス上のグローバル変数を構成し挿入します。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="n">operator_name</span>
</pre></div>
</div>
<p>新しいフィーチャが挿入される場所に基づいて地域コードを割り当てる場合は、集計式を使用して割り当てることができます。</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>aggregate( layer:=&#39;regions&#39;, aggregate:=&#39;max&#39;, expression:=&quot;code&quot;, filter:=intersects( $geometry, geometry( @parent ) ) )
</pre></div>
</div>
</div>
</div>
<div class="section" id="editable">
<h2>編集可否<a class="headerlink" href="#editable" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>フィールドの編集可能フラグが優先されます。</p>
</div>
<div class="section" id="remember-last-values">
<h2>最後の値を記憶する<a class="headerlink" href="#remember-last-values" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>QFieldは、最後に使用した値をよりきめ細かく制御することでQGIS設定を無視します。</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        

 


<div id="sourcelink">


  <a href="https://github.com/opengisch/QField-docs/blob/master/en/prepare/attributes-from.rst" class="fa fa-github"> Edit on GitHub</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2019, The QField Project/OPENGIS.ch.<br/>
      このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5 で生成しました。<br/>
    </p>
  </div>
</footer>
  </body>
</html>